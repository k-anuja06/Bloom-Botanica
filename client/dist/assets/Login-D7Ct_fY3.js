import{r as c,u as f,g as w,j as e,t as j,v as b,L as d,A as y,S as v,V as m,s as N,q as S}from"./index-DOuJ7_mk.js";import{f as k}from"./fetchUserDetails-QRsC0T89.js";const F=()=>{const[r,o]=c.useState({email:"",password:""}),[n,g]=c.useState(!1),p=f(),h=w(),l=a=>{const{name:s,value:t}=a.target;o(x=>({...x,[s]:t}))},i=Object.values(r).every(a=>a),u=async a=>{a.preventDefault();try{const s=await y({...v.login,data:r});if(s.data.error&&m.error(s.data.message),s.data.success){m.success(s.data.message),localStorage.setItem("accesstoken",s.data.data.accesstoken),localStorage.setItem("refreshToken",s.data.data.refreshToken);const t=await k();h(N(t.data)),o({email:"",password:""}),p("/")}}catch(s){S(s)}};return e.jsx("section",{className:"w-full container mx-auto px-2",children:e.jsxs("div",{className:"bg-white my-4 w-full max-w-lg mx-auto rounded p-7",children:[e.jsxs("p",{className:"text-center font-semibold",children:["Welcome to ",e.jsx("span",{style:{color:"#00af4f"},children:"Bloom"}),e.jsx("span",{style:{color:"#de7301"},children:"Botanica"})]}),e.jsx("p",{className:"text-center font-semibold",children:"Login"}),e.jsxs("form",{className:"grid gap-4 py-4",onSubmit:u,children:[e.jsxs("div",{className:"grid gap-1",children:[e.jsx("label",{htmlFor:"email",children:"Email :"}),e.jsx("input",{type:"email",id:"email",className:"bg-green-50 p-2 border rounded outline-none focus:border-primary-200",name:"email",value:r.email,onChange:l,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"grid gap-1",children:[e.jsx("label",{htmlFor:"password",children:"Password :"}),e.jsxs("div",{className:"bg-green-50 p-2 border rounded flex items-center focus-within:border-primary-200",children:[e.jsx("input",{type:n?"text":"password",id:"password",className:"w-full outline-none bg-green-50",name:"password",value:r.password,onChange:l,placeholder:"Enter your password"}),e.jsx("div",{onClick:()=>g(a=>!a),className:"cursor-pointer",children:n?e.jsx(j,{}):e.jsx(b,{})})]}),e.jsx(d,{to:"/forgot-password",className:"block ml-auto hover:text-primary-200",children:"Forgot password ?"})]}),e.jsx("button",{disabled:!i,className:` ${i?"bg-green-800 hover:bg-green-700":"bg-gray-500"}    text-white py-2 rounded font-semibold my-3 tracking-wide`,children:"Login"})]}),e.jsxs("p",{children:["Don't have account? ",e.jsx(d,{to:"/register",className:"font-semibold text-green-700 hover:text-green-800",children:"Register"})]})]})})};export{F as default};
