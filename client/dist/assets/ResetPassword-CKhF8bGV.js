import{a as b,u as v,r as n,j as s,t as g,v as p,L as y,V as l,A as N,S,q as C}from"./index-DOuJ7_mk.js";const A=()=>{const r=b(),c=v(),[o,d]=n.useState({email:"",newPassword:"",confirmPassword:""}),[m,f]=n.useState(!1),[w,j]=n.useState(!1),u=Object.values(o).every(e=>e);n.useEffect(()=>{var e,a,t;(a=(e=r==null?void 0:r.state)==null?void 0:e.data)!=null&&a.success||c("/"),(t=r==null?void 0:r.state)!=null&&t.email&&d(i=>{var h;return{...i,email:(h=r==null?void 0:r.state)==null?void 0:h.email}})},[]);const x=e=>{const{name:a,value:t}=e.target;d(i=>({...i,[a]:t}))};console.log("data reset password",o);const P=async e=>{if(e.preventDefault(),o.newPassword!==o.confirmPassword){l.error("New password and confirm password must be same.");return}try{const a=await N({...S.resetPassword,data:o});a.data.error&&l.error(a.data.message),a.data.success&&(l.success(a.data.message),c("/login"),d({email:"",newPassword:"",confirmPassword:""}))}catch(a){C(a)}};return s.jsx("section",{className:"w-full container mx-auto px-2",children:s.jsxs("div",{className:"bg-white my-4 w-full max-w-lg mx-auto rounded p-7",children:[s.jsx("p",{className:"font-semibold text-lg",children:"Enter Your Password "}),s.jsxs("form",{className:"grid gap-4 py-4",onSubmit:P,children:[s.jsxs("div",{className:"grid gap-1",children:[s.jsx("label",{htmlFor:"newPassword",children:"New Password :"}),s.jsxs("div",{className:"bg-green-50 p-2 border rounded flex items-center focus-within:border-primary-200",children:[s.jsx("input",{type:m?"text":"password",id:"password",className:"w-full outline-none",name:"newPassword",value:o.newPassword,onChange:x,placeholder:"Enter your new password"}),s.jsx("div",{onClick:()=>f(e=>!e),className:"cursor-pointer",children:m?s.jsx(g,{}):s.jsx(p,{})})]})]}),s.jsxs("div",{className:"grid gap-1",children:[s.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password :"}),s.jsxs("div",{className:"bg-green-50 p-2 border rounded flex items-center focus-within:border-primary-200",children:[s.jsx("input",{type:w?"text":"password",id:"password",className:"w-full outline-none",name:"confirmPassword",value:o.confirmPassword,onChange:x,placeholder:"Enter your confirm password"}),s.jsx("div",{onClick:()=>j(e=>!e),className:"cursor-pointer",children:w?s.jsx(g,{}):s.jsx(p,{})})]})]}),s.jsx("button",{disabled:!u,className:` ${u?"bg-green-800 hover:bg-green-700":"bg-gray-500"}    text-white py-2 rounded font-semibold my-3 tracking-wide`,children:"Change Password"})]}),s.jsxs("p",{children:["Already have account? ",s.jsx(y,{to:"/login",className:"font-semibold text-green-700 hover:text-green-800",children:"Login"})]})]})})};export{A as default};
