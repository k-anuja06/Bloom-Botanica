import{c as w,b as g,u as y,j as s,L as f,D as a,H as C,I,M as D,V as k}from"./index-DOuJ7_mk.js";import{a as b}from"./index-Da9-5BbU.js";const P="/assets/empty_cart-C6vwo_M0.webp",_=({close:n})=>{const{notDiscountTotalPrice:d,totalPrice:c,totalQty:r}=w(),l=g(e=>e.cartItem.cart),t=g(e=>e.user),m=y(),N=()=>{t!=null&&t._id?(m("/checkout"),n==null||n()):k("Please Login")};return s.jsx("section",{className:"fixed inset-0 bg-neutral-900 bg-opacity-70 z-50",children:s.jsxs("div",{className:"bg-white w-full max-w-sm min-h-screen max-h-screen ml-auto overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 shadow-md gap-3",children:[s.jsx("h2",{className:"font-semibold",children:"Cart"}),s.jsx(f,{to:"/",className:"lg:hidden",children:s.jsx(b,{size:25})}),s.jsx("button",{onClick:n,className:"hidden lg:block",children:s.jsx(b,{size:25})})]}),s.jsx("div",{className:"min-h-[75vh] lg:min-h-[80vh] max-h-[calc(100vh-150px)] bg-green-50 p-2 flex flex-col gap-4 overflow-y-auto",children:(l==null?void 0:l.length)>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-blue-100 text-blue-500 rounded-full",children:[s.jsx("p",{children:"Your total savings"}),s.jsx("p",{children:a(d-c)})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 grid gap-5 max-h-[40vh] overflow-y-auto",children:l.map((e,v)=>{var i,o,x,h,p,j,u;return s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 border rounded overflow-hidden",children:s.jsx("img",{src:(o=(i=e==null?void 0:e.productId)==null?void 0:i.image)==null?void 0:o[0],alt:((x=e==null?void 0:e.productId)==null?void 0:x.name)||"Product Image",className:"w-full h-full object-contain",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 text-xs",children:[s.jsx("p",{className:"line-clamp-2",children:(h=e==null?void 0:e.productId)==null?void 0:h.name}),s.jsx("p",{className:"text-neutral-400",children:(p=e==null?void 0:e.productId)==null?void 0:p.unit}),s.jsx("p",{className:"font-semibold",children:a(C((j=e==null?void 0:e.productId)==null?void 0:j.price,(u=e==null?void 0:e.productId)==null?void 0:u.discount))})]}),s.jsx(I,{data:e==null?void 0:e.productId})]},`${e==null?void 0:e._id}-cartItem-${v}`)})}),s.jsxs("div",{className:"bg-white p-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Bill Details"}),s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("p",{children:"Items Total"}),s.jsxs("p",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"line-through text-neutral-400",children:a(d)}),s.jsx("span",{children:a(c)})]})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("p",{children:"Quantity"}),s.jsxs("p",{children:[r," item",r>1?"s":""]})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("p",{children:"Delivery Charge"}),s.jsx("p",{children:"Free"})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-base mt-2",children:[s.jsx("p",{children:"Grand Total"}),s.jsx("p",{children:a(c)})]})]})]}):s.jsxs("div",{className:"bg-white flex flex-col justify-center items-center p-4",children:[s.jsx("img",{src:P,alt:"Empty cart",className:"w-full h-full object-contain",loading:"lazy"}),s.jsx(f,{to:"/",onClick:n,className:"mt-4 bg-green-600 px-4 py-2 text-white rounded",children:"Shop Now"})]})}),(l==null?void 0:l.length)>0&&s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"bg-green-700 text-white px-4 py-4 font-bold text-base rounded flex items-center justify-between",children:[s.jsx("span",{children:a(c)}),s.jsxs("button",{onClick:N,className:"flex items-center gap-1",children:["Proceed",s.jsx(D,{})]})]})})]})})};export{_ as D};
