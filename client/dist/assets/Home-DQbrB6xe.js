import{R as y,r as i,b as c,j as a,L as j,o as v,p as C,A as w,S as N,q as _,u as $}from"./index-DOuJ7_mk.js";import{C as L,v as g}from"./CardProduct-BFBoAtA7.js";import{C as P}from"./CardLoading-T93CX2At.js";const R=({id:o,name:l})=>{const[u,m]=i.useState([]),[h,e]=i.useState(!1),r=i.useRef(),n=c(s=>s.product.allSubCategory),x=async()=>{try{e(!0);const s=await w({...N.getProductByCategory,data:{id:o}}),{data:t}=s;t.success&&m(t.data)}catch(s){_(s)}finally{e(!1)}};i.useEffect(()=>{x()},[o]);const d=i.useCallback(s=>{r.current&&(r.current.scrollLeft+=s==="right"?200:-200)},[]),p=(()=>{const s=n.find(t=>t.category.some(b=>b._id===o));return s?`/${g(l)}-${o}/${g(s.name)}-${s._id}`:"/"})();return a.jsxs("div",{children:[a.jsxs("div",{className:"container mx-auto p-4 flex items-center justify-between gap-4",children:[a.jsx("h3",{className:"font-semibold text-lg md:text-xl",children:l}),a.jsx(j,{to:p,className:"text-green-600 hover:text-green-400",children:"See All"})]}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("div",{className:"flex gap-4 md:gap-6 lg:gap-8 container mx-auto px-4 overflow-x-scroll scrollbar-none scroll-smooth",ref:r,children:h?Array.from({length:6}).map((s,t)=>a.jsx(P,{},`loading-${t}`)):u.map((s,t)=>a.jsx(L,{data:s},`${s._id}-category-${t}`))}),a.jsxs("div",{className:"w-full left-0 right-0 container mx-auto px-2 absolute hidden lg:flex justify-between",children:[a.jsx("button",{onClick:()=>d("left"),className:"z-10 bg-white hover:bg-gray-100 shadow-lg text-lg p-2 rounded-full",children:a.jsx(v,{})}),a.jsx("button",{onClick:()=>d("right"),className:"z-10 bg-white hover:bg-gray-100 shadow-lg text-lg p-2 rounded-full",children:a.jsx(C,{})})]})]})]})},A=y.memo(R),D=()=>{const o=c(e=>e.product.loadingCategory),l=c(e=>e.product.allCategory),u=c(e=>e.product.allSubCategory),m=$(),h=(e,r)=>{const n=u.find(d=>d.category.some(f=>f._id===e));if(!n)return;const x=`/${g(r)}-${e}/${g(n.name)}-${n._id}`;m(x)};return a.jsxs("section",{className:"bg-white",children:[a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"w-full h-full min-h-48 bg-blue-100 rounded",children:[a.jsx("img",{src:"https://res.cloudinary.com/dlbl9sb4q/image/upload/v1744848029/new_banner_naymfb.png",className:"w-full h-full hidden lg:block",alt:"banner",loading:"lazy"}),a.jsx("img",{src:"https://res.cloudinary.com/dlbl9sb4q/image/upload/v1744848029/banner-mobile_gu9su0.png",className:"w-full h-full lg:hidden",alt:"banner-mobile",loading:"lazy"})]})}),a.jsx("div",{className:"container mx-auto px-4 my-2 grid grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-2",children:o?new Array(12).fill(null).map((e,r)=>a.jsxs("div",{className:"bg-white rounded p-4 min-h-36 grid gap-2 shadow animate-pulse",children:[a.jsx("div",{className:"bg-blue-100 min-h-24 rounded"}),a.jsx("div",{className:"bg-blue-100 h-8 rounded"})]},r+"loadingcategory")):l.map(e=>a.jsx("div",{className:"w-full h-full cursor-pointer",onClick:()=>h(e._id,e.name),children:a.jsx("img",{src:e.image,className:"w-full h-full object-scale-down",loading:"lazy",alt:e.name})},e._id+"displayCategory"))}),l==null?void 0:l.map(e=>a.jsx(A,{id:e==null?void 0:e._id,name:e==null?void 0:e.name},(e==null?void 0:e._id)+"CategorywiseProduct"))]})};export{D as default};
